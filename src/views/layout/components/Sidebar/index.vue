<template>
	<el-scrollbar wrap-class="scrollbar-wrapper">
		<el-menu :show-timeout="200" :default-active="$route.path" :collapse="isCollapse" mode="vertical" background-color="#304156" text-color="#bfcbd9" active-text-color="#409EFF">
			<sidebar-item v-for="route in routers" :key="route.name" :item="route" :base-path="route.path" />
		</el-menu>
	</el-scrollbar>
</template>

<script>
	import { mapGetters } from 'vuex'
	import SidebarItem from './SidebarItem'
	import { asyncRouterMap, constantRouterMap } from '@/router'
	export default {
		data() {
			return {
				routers:[] 
			}
		},
		mounted() {
			this.routers=constantRouterMap

		},
		components: {
			SidebarItem
		},
		computed: {
			...mapGetters([
				'permission_routers',
				'sidebar'
			]),
			isCollapse() {
				return !this.sidebar.opened
			}
		}
	}
</script>